"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const ie=require("../../../@kurkle/color/dist/color.esm.cjs");/*!
 * Chart.js v4.1.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function We(){}const Be=(()=>{let e=0;return()=>e++})();function C(e){return e===null||typeof e>"u"}function _(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function b(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function q(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function De(e,t){return q(e)?e:t}function w(e,t){return typeof e>"u"?t:e}const Ee=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,se=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Le(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Fe(e,t,n,r){let o,i,s;if(_(e))if(i=e.length,r)for(o=i-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<i;o++)t.call(n,e[o],o);else if(b(e))for(s=Object.keys(e),i=s.length,o=0;o<i;o++)t.call(n,e[s[o]],s[o])}function He(e,t){let n,r,o,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(o=e[n],i=t[n],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function I(e){if(_(e))return e.map(I);if(b(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let o=0;for(;o<r;++o)t[n[o]]=I(e[n[o]]);return t}return e}function ae(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function ce(e,t,n,r){if(!ae(e))return;const o=t[e],i=n[e];b(o)&&b(i)?v(o,i,r):t[e]=I(i)}function v(e,t,n){const r=_(t)?t:[t],o=r.length;if(!b(e))return e;n=n||{};const i=n.merger||ce;let s;for(let a=0;a<o;++a){if(s=r[a],!b(s))continue;const c=Object.keys(s);for(let l=0,f=c.length;l<f;++l)i(c[l],e,s,n)}return e}function le(e,t){return v(e,t,{merger:ue})}function ue(e,t,n){if(!ae(e))return;const r=t[e],o=n[e];b(r)&&b(o)?le(r,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=I(o))}const V={"":e=>e,x:e=>e.x,y:e=>e.y};function fe(e){const t=e.split("."),n=[];let r="";for(const o of t)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Ne(e){const t=fe(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Q(e,t){return(V[t]||(V[t]=Ne(t)))(e)}function U(e){return e.charAt(0).toUpperCase()+e.slice(1)}const T=e=>typeof e<"u",j=e=>typeof e=="function",ze=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Ke(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const p=Math.PI,M=2*p,A=Number.POSITIVE_INFINITY,he=p/180,y=p/2,O=p/4,K=p*2/3,F=Math.log10,xe=Math.sign;function de(e,t,n){return Math.abs(e-t)<n}function qe(e){const t=Math.round(e);e=de(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(F(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Qe(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((o,i)=>o-i).pop(),t}function Ue(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ge(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Ye(e,t,n){let r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function $e(e){return e*(p/180)}function Xe(e){return e*(180/p)}function Ze(e){if(!q(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Je(e,t){const n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*p&&(i+=M),{angle:i,distance:o}}function Ve(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function P(e){return(e%M+M)%M}function et(e,t,n,r){const o=P(e),i=P(t),s=P(n),a=P(i-o),c=P(s-o),l=P(o-i),f=P(o-s);return o===i||o===s||r&&i===s||a>c&&l<f}function ge(e,t,n){return Math.max(t,Math.min(n,e))}function tt(e){return ge(e,-32768,32767)}function nt(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function G(e,t,n){n=n||(s=>e[s]<t);let r=e.length-1,o=0,i;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const rt=(e,t,n,r)=>G(e,n,r?o=>{const i=e[o][t];return i<n||i===n&&e[o+1][t]===n}:o=>e[o][t]<n),ot=(e,t,n)=>G(e,n,r=>e[r][t]>=n);function it(e,t,n){let r=0,o=e.length;for(;r<o&&e[r]<t;)r++;for(;o>r&&e[o-1]>n;)o--;return r>0||o<e.length?e.slice(r,o):e}const me=["push","pop","shift","splice","unshift"];function st(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),me.forEach(n=>{const r="_onData"+U(n),o=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const s=o.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),s}})})}function at(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,o=r.indexOf(t);o!==-1&&r.splice(o,1),!(r.length>0)&&(me.forEach(i=>{delete e[i]}),delete e._chartjs)}function ct(e){const t=new Set;let n,r;for(n=0,r=e.length;n<r;++n)t.add(e[n]);return t.size===r?e:Array.from(t)}const be=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function lt(e,t){let n=[],r=!1;return function(...o){n=o,r||(r=!0,be.call(window,()=>{r=!1,e.apply(t,n)}))}}function ut(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const ft=e=>e==="start"?"left":e==="end"?"right":"center",ht=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,dt=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,B=e=>e===0||e===1,ee=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*M/n)),te=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*M/n)+1,E={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*y)+1,easeOutSine:e=>Math.sin(e*y),easeInOutSine:e=>-.5*(Math.cos(p*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>B(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>B(e)?e:ee(e,.075,.3),easeOutElastic:e=>B(e)?e:te(e,.075,.3),easeInOutElastic(e){return B(e)?e:e<.5?.5*ee(e*2,.1125,.45):.5+.5*te(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-E.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?E.easeInBounce(e*2)*.5:E.easeOutBounce(e*2-1)*.5+.5};function Y(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function gt(e){return Y(e)?e:new ie.Color(e)}function L(e){return Y(e)?e:new ie.Color(e).saturate(.5).darken(.1).hexString()}const mt=["x","y","borderWidth","radius","tension"],bt=["color","borderColor","backgroundColor"];function pt(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:bt},numbers:{type:"number",properties:mt}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function _t(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ne=new Map;function yt(e,t){t=t||{};const n=e+JSON.stringify(t);let r=ne.get(n);return r||(r=new Intl.NumberFormat(e,t),ne.set(n,r)),r}function pe(e,t,n){return yt(t,n).format(e)}const _e={values(e){return _(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let o,i=e;if(n.length>1){const l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(o="scientific"),i=Mt(e,n)}const s=F(Math.abs(i)),a=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),pe(e,r,c)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(F(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?_e.numeric.call(this,e,t,n):""}};function Mt(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var ye={formatters:_e};function Ot(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ye.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Me=Object.create(null),Oe=Object.create(null);function k(e,t){if(!t)return e;const n=t.split(".");for(let r=0,o=n.length;r<o;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function z(e,t,n){return typeof t=="string"?v(k(e,t),n):v(k(e,""),t)}class Pt{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>L(o.backgroundColor),this.hoverBorderColor=(r,o)=>L(o.borderColor),this.hoverColor=(r,o)=>L(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return z(this,t,n)}get(t){return k(this,t)}describe(t,n){return z(Oe,t,n)}override(t,n){return z(Me,t,n)}route(t,n,r,o){const i=k(this,t),s=k(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],l=s[o];return b(c)?Object.assign({},l,c):w(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(n=>n(this))}}var Pe=new Pt({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pt,_t,Ot]);function we(e){return!e||C(e.size)||C(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function x(e,t,n,r,o){let i=t[o];return i||(i=t[o]=e.measureText(o).width,n.push(o)),i>r&&(r=i),r}function wt(e,t,n,r){r=r||{};let o=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(o=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const a=n.length;let c,l,f,d,g;for(c=0;c<a;c++)if(d=n[c],d!=null&&_(d)!==!0)s=x(e,o,i,s,d);else if(_(d))for(l=0,f=d.length;l<f;l++)g=d[l],g!=null&&!_(g)&&(s=x(e,o,i,s,g));e.restore();const m=i.length/2;if(m>n.length){for(c=0;c<m;c++)delete o[i[c]];i.splice(0,m)}return s}function Tt(e,t,n){const r=e.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((t-o)*r)/r+o}function St(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Rt(e,t,n,r){Te(e,t,n,r,null)}function Te(e,t,n,r,o){let i,s,a,c,l,f,d,g;const m=t.pointStyle,R=t.rotation,h=t.radius;let u=(R||0)*he;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(u),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(h)||h<=0)){switch(e.beginPath(),m){default:o?e.ellipse(n,r,o/2,h,0,0,M):e.arc(n,r,h,0,M),e.closePath();break;case"triangle":f=o?o/2:h,e.moveTo(n+Math.sin(u)*f,r-Math.cos(u)*h),u+=K,e.lineTo(n+Math.sin(u)*f,r-Math.cos(u)*h),u+=K,e.lineTo(n+Math.sin(u)*f,r-Math.cos(u)*h),e.closePath();break;case"rectRounded":l=h*.516,c=h-l,s=Math.cos(u+O)*c,d=Math.cos(u+O)*(o?o/2-l:c),a=Math.sin(u+O)*c,g=Math.sin(u+O)*(o?o/2-l:c),e.arc(n-d,r-a,l,u-p,u-y),e.arc(n+g,r-s,l,u-y,u),e.arc(n+d,r+a,l,u,u+y),e.arc(n-g,r+s,l,u+y,u+p),e.closePath();break;case"rect":if(!R){c=Math.SQRT1_2*h,f=o?o/2:c,e.rect(n-f,r-c,2*f,2*c);break}u+=O;case"rectRot":d=Math.cos(u)*(o?o/2:h),s=Math.cos(u)*h,a=Math.sin(u)*h,g=Math.sin(u)*(o?o/2:h),e.moveTo(n-d,r-a),e.lineTo(n+g,r-s),e.lineTo(n+d,r+a),e.lineTo(n-g,r+s),e.closePath();break;case"crossRot":u+=O;case"cross":d=Math.cos(u)*(o?o/2:h),s=Math.cos(u)*h,a=Math.sin(u)*h,g=Math.sin(u)*(o?o/2:h),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+g,r-s),e.lineTo(n-g,r+s);break;case"star":d=Math.cos(u)*(o?o/2:h),s=Math.cos(u)*h,a=Math.sin(u)*h,g=Math.sin(u)*(o?o/2:h),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+g,r-s),e.lineTo(n-g,r+s),u+=O,d=Math.cos(u)*(o?o/2:h),s=Math.cos(u)*h,a=Math.sin(u)*h,g=Math.sin(u)*(o?o/2:h),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+g,r-s),e.lineTo(n-g,r+s);break;case"line":s=o?o/2:Math.cos(u)*h,a=Math.sin(u)*h,e.moveTo(n-s,r-a),e.lineTo(n+s,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(u)*(o?o/2:h),r+Math.sin(u)*h);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function kt(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ct(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function It(e){e.restore()}function vt(e,t,n,r,o,i={}){const s=_(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let c,l;for(e.save(),e.font=o.string,jt(e,i),c=0;c<s.length;++c)l=s[c],i.backdrop&&Wt(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),C(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(l,n,r,i.maxWidth)),e.fillText(l,n,r,i.maxWidth),At(e,n,r,l,i),r+=o.lineHeight;e.restore()}function jt(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),C(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function At(e,t,n,r,o){if(o.strikethrough||o.underline){const i=e.measureText(r),s=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,l=n+i.actualBoundingBoxDescent,f=o.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(s,f),e.lineTo(a,f),e.stroke()}}function Wt(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Bt(e,t){const{x:n,y:r,w:o,h:i,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,-y,p,!0),e.lineTo(n,r+i-s.bottomLeft),e.arc(n+s.bottomLeft,r+i-s.bottomLeft,s.bottomLeft,p,y,!0),e.lineTo(n+o-s.bottomRight,r+i),e.arc(n+o-s.bottomRight,r+i-s.bottomRight,s.bottomRight,y,0,!0),e.lineTo(n+o,r+s.topRight),e.arc(n+o-s.topRight,r+s.topRight,s.topRight,0,-y,!0),e.lineTo(n+s.topLeft,r)}const Dt=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Et=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Se(e,t){const n=(""+e).match(Dt);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Lt=e=>+e||0;function $(e,t){const n={},r=b(t),o=r?Object.keys(t):t,i=b(e)?r?s=>w(e[s],e[t[s]]):s=>e[s]:()=>e;for(const s of o)n[s]=Lt(i(s));return n}function Re(e){return $(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ft(e){return $(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ht(e){const t=Re(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Nt(e,t){e=e||{},t=t||Pe.font;let n=w(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=w(e.style,t.style);r&&!(""+r).match(Et)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:w(e.family,t.family),lineHeight:Se(w(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:w(e.weight,t.weight),string:""};return o.string=we(o),o}function zt(e,t,n,r){let o=!0,i,s,a;for(i=0,s=e.length;i<s;++i)if(a=e[i],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),o=!1),n!==void 0&&_(a)&&(a=a[n%a.length],o=!1),a!==void 0))return r&&!o&&(r.cacheable=!1),a}function Kt(e,t,n){const{min:r,max:o}=e,i=se(t,(o-r)/2),s=(a,c)=>n&&a===0?0:a+c;return{min:s(r,-Math.abs(i)),max:s(o,i)}}function xt(e,t){return Object.assign(Object.create(e),t)}function X(e,t=[""],n=e,r,o=()=>e[0]){T(r)||(r=ve("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:r,_getTarget:o,override:s=>X([s,...e],t,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete s._keys,delete e[0][a],!0},get(s,a){return Ce(s,a,()=>Zt(a,t,e,s))},getOwnPropertyDescriptor(s,a){return Reflect.getOwnPropertyDescriptor(s._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(s,a){return oe(s).includes(a)},ownKeys(s){return oe(s)},set(s,a,c){const l=s._storage||(s._storage=o());return s[a]=l[a]=c,delete s._keys,!0}})}function W(e,t,n,r){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ke(e,r),setContext:i=>W(e,i,n,r),override:i=>W(e.override(i),t,n,r)};return new Proxy(o,{deleteProperty(i,s){return delete i[s],delete e[s],!0},get(i,s,a){return Ce(i,s,()=>Qt(i,s,a))},getOwnPropertyDescriptor(i,s){return i._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(i,s,a){return e[s]=a,delete i[s],!0}})}function ke(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:n,indexable:r,isScriptable:j(n)?n:()=>n,isIndexable:j(r)?r:()=>r}}const qt=(e,t)=>e?e+U(t):t,Z=(e,t)=>b(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ce(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const r=n();return e[t]=r,r}function Qt(e,t,n){const{_proxy:r,_context:o,_subProxy:i,_descriptors:s}=e;let a=r[t];return j(a)&&s.isScriptable(t)&&(a=Ut(t,a,e,n)),_(a)&&a.length&&(a=Gt(t,a,e,s.isIndexable)),Z(t,a)&&(a=W(a,o,i&&i[t],s)),a}function Ut(e,t,n,r){const{_proxy:o,_context:i,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(i,s||r),a.delete(e),Z(e,t)&&(t=J(o._scopes,o,e,t)),t}function Gt(e,t,n,r){const{_proxy:o,_context:i,_subProxy:s,_descriptors:a}=n;if(T(i.index)&&r(e))t=t[i.index%t.length];else if(b(t[0])){const c=t,l=o._scopes.filter(f=>f!==c);t=[];for(const f of c){const d=J(l,o,e,f);t.push(W(d,i,s&&s[e],a))}}return t}function Ie(e,t,n){return j(e)?e(t,n):e}const Yt=(e,t)=>e===!0?t:typeof e=="string"?Q(t,e):void 0;function $t(e,t,n,r,o){for(const i of t){const s=Yt(n,i);if(s){e.add(s);const a=Ie(s._fallback,n,o);if(T(a)&&a!==n&&a!==r)return a}else if(s===!1&&T(r)&&n!==r)return null}return!1}function J(e,t,n,r){const o=t._rootScopes,i=Ie(t._fallback,n,r),s=[...e,...o],a=new Set;a.add(r);let c=re(a,s,n,i||n,r);return c===null||T(i)&&i!==n&&(c=re(a,s,i,c,r),c===null)?!1:X(Array.from(a),[""],o,i,()=>Xt(t,n,r))}function re(e,t,n,r,o){for(;n;)n=$t(e,t,n,r,o);return n}function Xt(e,t,n){const r=e._getTarget();t in r||(r[t]={});const o=r[t];return _(o)&&b(n)?n:o||{}}function Zt(e,t,n,r){let o;for(const i of t)if(o=ve(qt(i,e),n),T(o))return Z(e,o)?J(n,r,e,o):o}function ve(e,t){for(const n of t){if(!n)continue;const r=n[e];if(T(r))return r}}function oe(e){let t=e._keys;return t||(t=e._keys=Jt(e._scopes)),t}function Jt(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(o=>!o.startsWith("_")))t.add(r);return Array.from(t)}function Vt(e,t,n,r){const{iScale:o}=e,{key:i="r"}=this._parsing,s=new Array(r);let a,c,l,f;for(a=0,c=r;a<c;++a)l=a+n,f=t[l],s[a]={r:o.parse(Q(f,i),l)};return s}function en(){return typeof window<"u"&&typeof document<"u"}function je(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function H(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const N=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Ae(e,t){return N(e).getPropertyValue(t)}const tn=["top","right","bottom","left"];function S(e,t,n){const r={};n=n?"-"+n:"";for(let o=0;o<4;o++){const i=tn[o];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const nn=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function rn(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:o,offsetY:i}=r;let s=!1,a,c;if(nn(o,i,e.target))a=o,c=i;else{const l=t.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function on(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,o=N(n),i=o.boxSizing==="border-box",s=S(o,"padding"),a=S(o,"border","width"),{x:c,y:l,box:f}=rn(e,n),d=s.left+(f&&a.left),g=s.top+(f&&a.top);let{width:m,height:R}=t;return i&&(m-=s.width+a.width,R-=s.height+a.height),{x:Math.round((c-d)/m*n.width/r),y:Math.round((l-g)/R*n.height/r)}}function sn(e,t,n){let r,o;if(t===void 0||n===void 0){const i=je(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const s=i.getBoundingClientRect(),a=N(i),c=S(a,"border","width"),l=S(a,"padding");t=s.width-l.width-c.width,n=s.height-l.height-c.height,r=H(a.maxWidth,i,"clientWidth"),o=H(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||A,maxHeight:o||A}}const D=e=>Math.round(e*10)/10;function an(e,t,n,r){const o=N(e),i=S(o,"margin"),s=H(o.maxWidth,e,"clientWidth")||A,a=H(o.maxHeight,e,"clientHeight")||A,c=sn(e,t,n);let{width:l,height:f}=c;if(o.boxSizing==="content-box"){const g=S(o,"border","width"),m=S(o,"padding");l-=m.width+g.width,f-=m.height+g.height}return l=Math.max(0,l-i.width),f=Math.max(0,r?l/r:f-i.height),l=D(Math.min(l,s,c.maxWidth)),f=D(Math.min(f,a,c.maxHeight)),l&&!f&&(f=D(l/2)),(t!==void 0||n!==void 0)&&r&&c.height&&f>c.height&&(f=c.height,l=D(Math.floor(f*r))),{width:l,height:f}}function cn(e,t,n){const r=t||1,o=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||s.height!==o||s.width!==i?(e.currentDevicePixelRatio=r,s.height=o,s.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ln=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function un(e,t){const n=Ae(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const fn=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},hn=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function dn(e,t,n){return e?fn(t,n):hn()}function gn(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function mn(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}exports.$=It;exports.A=ot;exports.B=rt;exports.C=kt;exports.D=Je;exports.E=Ht;exports.F=Fe;exports.G=an;exports.H=y;exports.I=je;exports.J=un;exports.K=ln;exports.L=lt;exports.M=en;exports.N=Qe;exports.O=De;exports.P=p;exports.Q=Le;exports.R=Kt;exports.S=ge;exports.T=M;exports.U=Xe;exports.V=x;exports.W=tt;exports.X=Tt;exports.Y=Ct;exports.Z=vt;exports._=ct;exports.a=zt;exports.a0=Nt;exports.a1=ft;exports.a2=ht;exports.a3=Me;exports.a4=v;exports.a5=U;exports.a6=Oe;exports.a7=j;exports.a8=W;exports.a9=X;exports.aA=gn;exports.aB=dt;exports.aC=mn;exports.aD=Te;exports.aE=Ve;exports.aF=We;exports.aG=Ye;exports.aH=qe;exports.aI=Ge;exports.aJ=de;exports.aK=Ze;exports.aL=ye;exports.aM=F;exports.aN=wt;exports.aO=it;exports.aP=G;exports.aQ=Y;exports.aR=L;exports.aS=I;exports.aT=ce;exports.aU=ue;exports.aW=fe;exports.aX=we;exports.a_=Ae;exports.aa=ke;exports.ab=le;exports.ac=Be;exports.ad=ut;exports.ae=cn;exports.af=St;exports.ag=ze;exports.ah=He;exports.ai=Ke;exports.aj=nt;exports.ak=$;exports.at=Rt;exports.au=Bt;exports.av=Re;exports.aw=Ft;exports.ay=P;exports.az=dn;exports.b=_;exports.b0=Se;exports.b2=A;exports.b3=he;exports.b4=O;exports.b5=K;exports.c=gt;exports.d=Pe;exports.e=E;exports.f=Q;exports.g=q;exports.h=T;exports.i=b;exports.j=xt;exports.k=C;exports.l=st;exports.m=Ee;exports.n=se;exports.o=pe;exports.p=et;exports.r=be;exports.s=xe;exports.t=$e;exports.u=at;exports.v=w;exports.x=Ue;exports.y=Vt;exports.z=on;
//# sourceMappingURL=helpers.segment.cjs.map
