"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const g=require("../../../../../node_modules/@lit/reactive-element/decorators/custom-element.cjs"),p=require("../../../../../node_modules/@lit/reactive-element/decorators/property.cjs");require("../../../../../node_modules/@lit/reactive-element/decorators/query-assigned-elements.cjs");const o=require("../../../../../node_modules/chart.js/dist/chart.cjs"),f=require("../zwc-chart-base/zwc-chart-base.cjs");require("../../utils/pictograms.cjs");const m=require("../../utils/validations.cjs");var y=Object.defineProperty,C=Object.getOwnPropertyDescriptor,n=(s,e,a,r)=>{for(var t=r>1?void 0:r?C(e,a):e,l=s.length-1,i;l>=0;l--)(i=s[l])&&(t=(r?i(e,a,t):i(t))||t);return r&&t&&y(e,a,t),t};exports.ZwcChartBar=class extends f.ZwcBaseChart{constructor(){super(...arguments),this.componentsToRegister=[o.Colors,o.BarController,o.BarElement,o.CategoryScale,o.LinearScale,o.Legend,o.Tooltip,o.Title,o.SubTitle],this.type="bar",this.defaultOptions={animation:{duration:2e3},plugins:{legendMargin:{margin:20},legend:{position:"top",align:"start",labels:{usePointStyle:!0}},tooltip:{mode:"point",intersect:!1,backgroundColor:"#edeef0",titleColor:"black",titleAlign:"center",bodyColor:"black",bodyAlign:"center",footerColor:"black",footerAlign:"center",position:"nearest",xAlign:"center",yAlign:"bottom"}},layout:{padding:{top:20,left:20,right:20,bottom:20}},elements:{bar:{backgroundColor:["#0f67c0"],borderRadius:Number.MAX_VALUE,borderSkipped:!1}},scales:{x:{ticks:{display:!0},border:{color:"#929a9c",width:1},grid:{display:!1}},y:{ticks:{display:!0},grid:{color:"#f7f8f7",drawTicks:!1,lineWidth:2},border:{display:!1}}}},this.plugins=[],this.options={},this.data={labels:[2010,2011,2012],datasets:[{label:"Sample chart",data:[15,20,null],maxBarThickness:32}]}}updated(s){var e,a,r;if(s.has("data")&&s.get("data")&&this.chart){const{labels:t,dataSetsDiff:l}=this.handleDataChange(this.chart,this.data);t&&((a=(e=this.chart)==null?void 0:e.data.labels)==null||a.push(...t)),(r=this.chart)==null||r.data.datasets.forEach((i,c)=>{l[c]&&i.data.push(...l[c])}),this.chart.update("normal")}}handleDataChange(s,e){var i,c,h,u;const a=(c=(i=s.data.labels)==null?void 0:i.length)!=null?c:0,r=(h=e.labels)!=null&&h.length?e.labels.length-a:0-a;let t=[],l=[];if(r!==0)if(r>0){t=e.labels?e.labels.slice(a!=null?a:0):[];const d=t.length;l=e.datasets.map(b=>b.data.slice(-d))}else r<0&&((u=s.data.labels)==null||u.pop(),s.data.datasets.forEach(d=>d.data.pop()));return{labels:t,dataSetsDiff:l,direction:r}}};n([p.property()],exports.ZwcChartBar.prototype,"plugins",2);n([p.property({type:Object})],exports.ZwcChartBar.prototype,"options",2);n([p.property({type:Object,hasChanged:(s,e)=>!m.isSameData(s,e)})],exports.ZwcChartBar.prototype,"data",2);exports.ZwcChartBar=n([g.customElement("zwc-chart-bar")],exports.ZwcChartBar);
//# sourceMappingURL=zwc-chart-bar.cjs.map
