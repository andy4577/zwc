{"version":3,"file":"pickerListeners.js","sources":["../../../../../../../node_modules/vanillajs-datepicker/js/events/pickerListeners.js"],"sourcesContent":["import {today, addMonths, addYears} from '../lib/date.js';\nimport {findElementInEventPath} from '../lib/event.js';\nimport {goToPrevOrNext, switchView} from './functions.js';\n\nfunction goToSelectedMonthOrYear(datepicker, selection) {\n  const picker = datepicker.picker;\n  const viewDate = new Date(picker.viewDate);\n  const viewId = picker.currentView.id;\n  const newDate = viewId === 1\n    ? addMonths(viewDate, selection - viewDate.getMonth())\n    : addYears(viewDate, selection - viewDate.getFullYear());\n\n  picker.changeFocus(newDate).changeView(viewId - 1).render();\n}\n\nexport function onClickTodayBtn(datepicker) {\n  const picker = datepicker.picker;\n  const currentDate = today();\n  if (datepicker.config.todayBtnMode === 1) {\n    if (datepicker.config.autohide) {\n      datepicker.setDate(currentDate);\n      return;\n    }\n    datepicker.setDate(currentDate, {render: false});\n    picker.update();\n  }\n  if (picker.viewDate !== currentDate) {\n    picker.changeFocus(currentDate);\n  }\n  picker.changeView(0).render();\n}\n\nexport function onClickClearBtn(datepicker) {\n  datepicker.setDate({clear: true});\n}\n\nexport function onClickViewSwitch(datepicker) {\n  switchView(datepicker);\n}\n\nexport function onClickPrevBtn(datepicker) {\n  goToPrevOrNext(datepicker, -1);\n}\n\nexport function onClickNextBtn(datepicker) {\n  goToPrevOrNext(datepicker, 1);\n}\n\n// For the picker's main block to delegete the events from `datepicker-cell`s\nexport function onClickView(datepicker, ev) {\n  const target = findElementInEventPath(ev, '.datepicker-cell');\n  if (!target || target.classList.contains('disabled')) {\n    return;\n  }\n\n  const {id, isMinView} = datepicker.picker.currentView;\n  if (isMinView) {\n    datepicker.setDate(Number(target.dataset.date));\n  } else if (id === 1) {\n    goToSelectedMonthOrYear(datepicker, Number(target.dataset.month));\n  } else {\n    goToSelectedMonthOrYear(datepicker, Number(target.dataset.year));\n  }\n}\n\nexport function onMousedownPicker(ev) {\n  ev.preventDefault();\n}\n"],"names":["goToSelectedMonthOrYear","datepicker","selection","picker","viewDate","viewId","newDate","addMonths","addYears","onClickTodayBtn","currentDate","today","onClickClearBtn","onClickViewSwitch","switchView","onClickPrevBtn","goToPrevOrNext","onClickNextBtn","onClickView","ev","target","findElementInEventPath","id","isMinView","onMousedownPicker"],"mappings":";;;AAIA,SAASA,EAAwBC,GAAYC,GAAW;AACtD,QAAMC,IAASF,EAAW,QACpBG,IAAW,IAAI,KAAKD,EAAO,QAAQ,GACnCE,IAASF,EAAO,YAAY,IAC5BG,IAAUD,MAAW,IACvBE,EAAUH,GAAUF,IAAYE,EAAS,SAAQ,CAAE,IACnDI,EAASJ,GAAUF,IAAYE,EAAS,YAAa,CAAA;AAEzD,EAAAD,EAAO,YAAYG,CAAO,EAAE,WAAWD,IAAS,CAAC,EAAE;AACrD;AAEO,SAASI,EAAgBR,GAAY;AAC1C,QAAME,IAASF,EAAW,QACpBS,IAAcC;AACpB,MAAIV,EAAW,OAAO,iBAAiB,GAAG;AACxC,QAAIA,EAAW,OAAO,UAAU;AAC9B,MAAAA,EAAW,QAAQS,CAAW;AAC9B;AAAA,IACD;AACD,IAAAT,EAAW,QAAQS,GAAa,EAAC,QAAQ,GAAK,CAAC,GAC/CP,EAAO,OAAM;AAAA,EACd;AACD,EAAIA,EAAO,aAAaO,KACtBP,EAAO,YAAYO,CAAW,GAEhCP,EAAO,WAAW,CAAC,EAAE,OAAM;AAC7B;AAEO,SAASS,EAAgBX,GAAY;AAC1C,EAAAA,EAAW,QAAQ,EAAC,OAAO,GAAI,CAAC;AAClC;AAEO,SAASY,EAAkBZ,GAAY;AAC5C,EAAAa,EAAWb,CAAU;AACvB;AAEO,SAASc,EAAed,GAAY;AACzC,EAAAe,EAAef,GAAY,EAAE;AAC/B;AAEO,SAASgB,EAAehB,GAAY;AACzC,EAAAe,EAAef,GAAY,CAAC;AAC9B;AAGO,SAASiB,EAAYjB,GAAYkB,GAAI;AAC1C,QAAMC,IAASC,EAAuBF,GAAI,kBAAkB;AAC5D,MAAI,CAACC,KAAUA,EAAO,UAAU,SAAS,UAAU;AACjD;AAGF,QAAM,EAAC,IAAAE,GAAI,WAAAC,EAAS,IAAItB,EAAW,OAAO;AAC1C,EAAIsB,IACFtB,EAAW,QAAQ,OAAOmB,EAAO,QAAQ,IAAI,CAAC,IACrCE,MAAO,IAChBtB,EAAwBC,GAAY,OAAOmB,EAAO,QAAQ,KAAK,CAAC,IAEhEpB,EAAwBC,GAAY,OAAOmB,EAAO,QAAQ,IAAI,CAAC;AAEnE;AAEO,SAASI,EAAkBL,GAAI;AACpC,EAAAA,EAAG,eAAc;AACnB;"}