{"version":3,"file":"pickerListeners.cjs","sources":["../../../../../../../node_modules/vanillajs-datepicker/js/events/pickerListeners.js"],"sourcesContent":["import {today, addMonths, addYears} from '../lib/date.js';\nimport {findElementInEventPath} from '../lib/event.js';\nimport {goToPrevOrNext, switchView} from './functions.js';\n\nfunction goToSelectedMonthOrYear(datepicker, selection) {\n  const picker = datepicker.picker;\n  const viewDate = new Date(picker.viewDate);\n  const viewId = picker.currentView.id;\n  const newDate = viewId === 1\n    ? addMonths(viewDate, selection - viewDate.getMonth())\n    : addYears(viewDate, selection - viewDate.getFullYear());\n\n  picker.changeFocus(newDate).changeView(viewId - 1).render();\n}\n\nexport function onClickTodayBtn(datepicker) {\n  const picker = datepicker.picker;\n  const currentDate = today();\n  if (datepicker.config.todayBtnMode === 1) {\n    if (datepicker.config.autohide) {\n      datepicker.setDate(currentDate);\n      return;\n    }\n    datepicker.setDate(currentDate, {render: false});\n    picker.update();\n  }\n  if (picker.viewDate !== currentDate) {\n    picker.changeFocus(currentDate);\n  }\n  picker.changeView(0).render();\n}\n\nexport function onClickClearBtn(datepicker) {\n  datepicker.setDate({clear: true});\n}\n\nexport function onClickViewSwitch(datepicker) {\n  switchView(datepicker);\n}\n\nexport function onClickPrevBtn(datepicker) {\n  goToPrevOrNext(datepicker, -1);\n}\n\nexport function onClickNextBtn(datepicker) {\n  goToPrevOrNext(datepicker, 1);\n}\n\n// For the picker's main block to delegete the events from `datepicker-cell`s\nexport function onClickView(datepicker, ev) {\n  const target = findElementInEventPath(ev, '.datepicker-cell');\n  if (!target || target.classList.contains('disabled')) {\n    return;\n  }\n\n  const {id, isMinView} = datepicker.picker.currentView;\n  if (isMinView) {\n    datepicker.setDate(Number(target.dataset.date));\n  } else if (id === 1) {\n    goToSelectedMonthOrYear(datepicker, Number(target.dataset.month));\n  } else {\n    goToSelectedMonthOrYear(datepicker, Number(target.dataset.year));\n  }\n}\n\nexport function onMousedownPicker(ev) {\n  ev.preventDefault();\n}\n"],"names":["goToSelectedMonthOrYear","datepicker","selection","picker","viewDate","viewId","newDate","addMonths","addYears","onClickTodayBtn","currentDate","today","onClickClearBtn","onClickViewSwitch","switchView","onClickPrevBtn","goToPrevOrNext","onClickNextBtn","onClickView","ev","target","findElementInEventPath","id","isMinView","onMousedownPicker"],"mappings":"0MAIA,SAASA,EAAwBC,EAAYC,EAAW,CACtD,MAAMC,EAASF,EAAW,OACpBG,EAAW,IAAI,KAAKD,EAAO,QAAQ,EACnCE,EAASF,EAAO,YAAY,GAC5BG,EAAUD,IAAW,EACvBE,EAAAA,UAAUH,EAAUF,EAAYE,EAAS,SAAQ,CAAE,EACnDI,EAAAA,SAASJ,EAAUF,EAAYE,EAAS,YAAa,CAAA,EAEzDD,EAAO,YAAYG,CAAO,EAAE,WAAWD,EAAS,CAAC,EAAE,QACrD,CAEO,SAASI,EAAgBR,EAAY,CAC1C,MAAME,EAASF,EAAW,OACpBS,EAAcC,EAAAA,QACpB,GAAIV,EAAW,OAAO,eAAiB,EAAG,CACxC,GAAIA,EAAW,OAAO,SAAU,CAC9BA,EAAW,QAAQS,CAAW,EAC9B,MACD,CACDT,EAAW,QAAQS,EAAa,CAAC,OAAQ,EAAK,CAAC,EAC/CP,EAAO,OAAM,CACd,CACGA,EAAO,WAAaO,GACtBP,EAAO,YAAYO,CAAW,EAEhCP,EAAO,WAAW,CAAC,EAAE,OAAM,CAC7B,CAEO,SAASS,EAAgBX,EAAY,CAC1CA,EAAW,QAAQ,CAAC,MAAO,EAAI,CAAC,CAClC,CAEO,SAASY,EAAkBZ,EAAY,CAC5Ca,EAAU,WAACb,CAAU,CACvB,CAEO,SAASc,EAAed,EAAY,CACzCe,iBAAef,EAAY,EAAE,CAC/B,CAEO,SAASgB,EAAehB,EAAY,CACzCe,iBAAef,EAAY,CAAC,CAC9B,CAGO,SAASiB,EAAYjB,EAAYkB,EAAI,CAC1C,MAAMC,EAASC,EAAAA,uBAAuBF,EAAI,kBAAkB,EAC5D,GAAI,CAACC,GAAUA,EAAO,UAAU,SAAS,UAAU,EACjD,OAGF,KAAM,CAAC,GAAAE,EAAI,UAAAC,CAAS,EAAItB,EAAW,OAAO,YACtCsB,EACFtB,EAAW,QAAQ,OAAOmB,EAAO,QAAQ,IAAI,CAAC,EACrCE,IAAO,EAChBtB,EAAwBC,EAAY,OAAOmB,EAAO,QAAQ,KAAK,CAAC,EAEhEpB,EAAwBC,EAAY,OAAOmB,EAAO,QAAQ,IAAI,CAAC,CAEnE,CAEO,SAASI,EAAkBL,EAAI,CACpCA,EAAG,eAAc,CACnB"}