{"version":3,"file":"View.js","sources":["../../../../../../../../node_modules/vanillajs-datepicker/js/picker/views/View.js"],"sourcesContent":["import {pushUnique} from '../../lib/utils.js';\nimport {parseHTML, replaceChildNodes} from '../../lib/dom.js';\n\n// Base class of the view classes\nexport default class View {\n  constructor(picker, config) {\n    Object.assign(this, config, {\n      picker,\n      element: parseHTML(`<div class=\"datepicker-view\"></div>`).firstChild,\n      selected: [],\n    });\n    this.init(this.picker.datepicker.config);\n  }\n\n  init(options) {\n    if (options.pickLevel !== undefined) {\n      this.isMinView = this.id === options.pickLevel;\n    }\n    this.setOptions(options);\n    this.updateFocus();\n    this.updateSelection();\n  }\n\n  // Execute beforeShow() callback and apply the result to the element\n  // args:\n  // - current - current value on the iteration on view rendering\n  // - timeValue - time value of the date to pass to beforeShow()\n  performBeforeHook(el, current, timeValue) {\n    let result = this.beforeShow(new Date(timeValue));\n    switch (typeof result) {\n      case 'boolean':\n        result = {enabled: result};\n        break;\n      case 'string':\n        result = {classes: result};\n    }\n\n    if (result) {\n      if (result.enabled === false) {\n        el.classList.add('disabled');\n        pushUnique(this.disabled, current);\n      }\n      if (result.classes) {\n        const extraClasses = result.classes.split(/\\s+/);\n        el.classList.add(...extraClasses);\n        if (extraClasses.includes('disabled')) {\n          pushUnique(this.disabled, current);\n        }\n      }\n      if (result.content) {\n        replaceChildNodes(el, result.content);\n      }\n    }\n  }\n}\n"],"names":["View","picker","config","parseHTML","options","el","current","timeValue","result","pushUnique","extraClasses","replaceChildNodes"],"mappings":";;AAIe,MAAMA,EAAK;AAAA,EACxB,YAAYC,GAAQC,GAAQ;AAC1B,WAAO,OAAO,MAAMA,GAAQ;AAAA,MAC1B,QAAAD;AAAA,MACA,SAASE,EAAU,qCAAqC,EAAE;AAAA,MAC1D,UAAU,CAAE;AAAA,IAClB,CAAK,GACD,KAAK,KAAK,KAAK,OAAO,WAAW,MAAM;AAAA,EACxC;AAAA,EAED,KAAKC,GAAS;AACZ,IAAIA,EAAQ,cAAc,WACxB,KAAK,YAAY,KAAK,OAAOA,EAAQ,YAEvC,KAAK,WAAWA,CAAO,GACvB,KAAK,YAAW,GAChB,KAAK,gBAAe;AAAA,EACrB;AAAA,EAMD,kBAAkBC,GAAIC,GAASC,GAAW;AACxC,QAAIC,IAAS,KAAK,WAAW,IAAI,KAAKD,CAAS,CAAC;AAChD,YAAQ,OAAOC,GAAM;AAAA,MACnB,KAAK;AACH,QAAAA,IAAS,EAAC,SAASA,EAAM;AACzB;AAAA,MACF,KAAK;AACH,QAAAA,IAAS,EAAC,SAASA,EAAM;AAAA,IAC5B;AAED,QAAIA,GAAQ;AAKV,UAJIA,EAAO,YAAY,OACrBH,EAAG,UAAU,IAAI,UAAU,GAC3BI,EAAW,KAAK,UAAUH,CAAO,IAE/BE,EAAO,SAAS;AAClB,cAAME,IAAeF,EAAO,QAAQ,MAAM,KAAK;AAC/C,QAAAH,EAAG,UAAU,IAAI,GAAGK,CAAY,GAC5BA,EAAa,SAAS,UAAU,KAClCD,EAAW,KAAK,UAAUH,CAAO;AAAA,MAEpC;AACD,MAAIE,EAAO,WACTG,EAAkBN,GAAIG,EAAO,OAAO;AAAA,IAEvC;AAAA,EACF;AACH;"}