{"version":3,"file":"repeat.js","sources":["../../../../../../node_modules/lit-html/directives/repeat.js"],"sourcesContent":["import{noChange as e}from\"../lit-html.js\";import{directive as s,Directive as t,PartType as r}from\"../directive.js\";import{getCommittedValue as l,setChildPartValue as o,insertPart as i,removePart as n,setCommittedValue as f}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},c=s(class extends t{constructor(e){if(super(e),e.type!==r.CHILD)throw Error(\"repeat() can only be used in text expressions\")}ht(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],o=[];let i=0;for(const s of e)l[i]=r?r(s,i):i,o[i]=t(s,i),i++;return{values:o,keys:l}}render(e,s,t){return this.ht(e,s,t).values}update(s,[t,r,c]){var d;const a=l(s),{values:p,keys:v}=this.ht(t,r,c);if(!Array.isArray(a))return this.ut=v,p;const h=null!==(d=this.ut)&&void 0!==d?d:this.ut=[],m=[];let y,x,j=0,k=a.length-1,w=0,A=p.length-1;for(;j<=k&&w<=A;)if(null===a[j])j++;else if(null===a[k])k--;else if(h[j]===v[w])m[w]=o(a[j],p[w]),j++,w++;else if(h[k]===v[A])m[A]=o(a[k],p[A]),k--,A--;else if(h[j]===v[A])m[A]=o(a[j],p[A]),i(s,m[A+1],a[j]),j++,A--;else if(h[k]===v[w])m[w]=o(a[k],p[w]),i(s,a[j],a[k]),k--,w++;else if(void 0===y&&(y=u(v,w,A),x=u(h,j,k)),y.has(h[j]))if(y.has(h[k])){const e=x.get(v[w]),t=void 0!==e?a[e]:null;if(null===t){const e=i(s,a[j]);o(e,p[w]),m[w]=e}else m[w]=o(t,p[w]),i(s,a[j],t),a[e]=null;w++}else n(a[k]),k--;else n(a[j]),j++;for(;w<=A;){const e=i(s,m[A+1]);o(e,p[w]),m[w++]=e}for(;j<=k;){const e=a[j++];null!==e&&n(e)}return this.ut=v,f(s,m),e}});export{c as repeat};\n//# sourceMappingURL=repeat.js.map\n"],"names":["u","e","s","t","r","l","c","o","i","d","a","p","v","h","m","x","j","k","w","A","n","f"],"mappings":"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"}